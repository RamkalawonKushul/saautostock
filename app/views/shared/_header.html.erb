<header class="sticky top-0 z-50 bg-white dark:bg-background-dark shadow-md">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex h-24 items-center justify-between">

      <!-- Logo -->
      <div class="flex items-center gap-4">
        <a href="<%= root_path %>" id="logo-link" class="flex items-center gap-3">
<%= image_tag "asautostock.png",
  class: "h-14 w-auto cursor-pointer transition-transform duration-700 ease-in-out",
  id: "logo",
  alt: "SA AUTO STOCK Logo",
  style: "transform-origin: center;" %>

          <span class="text-2xl logo-text uppercase tracking-tight">
            SA AUTO STOCK
          </span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center gap-8">
        <%= link_to "Home", root_path, class: "nav-link" %>
        <%= link_to "About Us", aboutus_path, class: "nav-link" %>
        <%= link_to "Services", services_path, class: "nav-link" %>
        <%= link_to "FAQ", faq_path, class: "nav-link" %>
        <%= link_to "Contact Us", contactus_path, class: "nav-link" %>
      </nav>

      <!-- Book Appointment Button (Desktop only) -->
      <div class="hidden lg:flex items-center">
        <%= link_to "Book Appointment", contactus_path, class: "px-6 py-3 bg-primary text-white font-bold text-base rounded-full hover:bg-primary/90 transition-colors shadow-lg" %>
      </div>

      <!-- Mobile Hamburger -->
      <button id="mobile-menu-toggle" class="lg:hidden text-heading-light dark:text-heading-dark">
        <span class="material-symbols-outlined text-4xl">menu</span>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="lg:hidden hidden bg-white dark:bg-background-dark border-t border-gray-200 dark:border-gray-700 shadow-md">
    <nav class="flex flex-col space-y-4 px-6 py-6 text-center">
      <%= link_to "Home", root_path, class: "nav-link block" %>
      <%= link_to "About Us", aboutus_path, class: "nav-link block" %>
      <%= link_to "Services", services_path, class: "nav-link block" %>
      <%= link_to "FAQ", faq_path, class: "nav-link block" %>
      <%= link_to "Contact Us", contactus_path, class: "nav-link block" %>
      <%= link_to "Book Appointment", contactus_path, class: "w-full bg-primary text-white font-semibold py-3 rounded-full shadow-md hover:bg-primary/90 transition" %>
    </nav>
  </div>
</header>

<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

.logo-text {
  font-family: 'Orbitron', sans-serif;
  font-weight: 700;
  font-size: 1rem;
  color: #1f2937;
  transition: color 0.3s ease;
}
.logo-text:hover {
  color: #111827;
  text-shadow: 0 0 2px #146116, 0 0 5px #146116;
}
@keyframes spin-glow {
  0% { transform: rotate(0deg); filter: drop-shadow(0 0 0px #146116); }
  50% { transform: rotate(180deg); filter: drop-shadow(0 0 10px #146116); }
  100% { transform: rotate(360deg); filter: drop-shadow(0 0 0px #146116); }
}
.spin-glow-animation {
  animation: spin-glow 1s ease-in-out;
  transform-origin: center;
}
.nav-link {
  font-weight: 600;
  font-size: 1rem;
  color: #374151;
  position: relative;
  transition: color 0.3s ease;
}
.nav-link:hover,
.nav-link.active {
  color: #146116;
}
.nav-link.active::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 100%;
  height: 2px;
  background-color: #146116;
  border-radius: 1px;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const logo = document.getElementById("logo");
  const logoLink = document.getElementById("logo-link");
  const mobileMenuToggle = document.getElementById("mobile-menu-toggle");
  const mobileMenu = document.getElementById("mobile-menu");
  const menuIcon = mobileMenuToggle.querySelector("span");

  // Logo spin animation
  logo.addEventListener("click", (e) => {
    e.preventDefault();
    logo.classList.add("spin-glow-animation");
    setTimeout(() => {
      logo.classList.remove("spin-glow-animation");
      window.location.href = logoLink.href;
    }, 1000);
  });

  // Highlight active link
  const currentPath = window.location.pathname;
  document.querySelectorAll('.nav-link').forEach(link => {
    if (link.getAttribute('href') === currentPath) {
      link.classList.add('active');
    }
  });

  // Mobile menu toggle
  mobileMenuToggle.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");

    // Change hamburger icon
    if (mobileMenu.classList.contains("hidden")) {
      menuIcon.textContent = "menu";
    } else {
      menuIcon.textContent = "close";
    }
  });
});
</script>
