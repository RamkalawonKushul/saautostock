<header class="sticky top-0 z-50 bg-white dark:bg-background-dark shadow-md">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex h-24 items-center justify-between">

      <!-- Logo -->
      <div class="flex items-center gap-4">
        <a href="<%= root_path %>" id="logo-link" class="flex items-center gap-3">
          <%= image_tag "asautostock.png",
            class: "h-20 w-auto cursor-pointer transition-transform duration-700 ease-in-out",
            id: "logo",
            alt: "SA AUTO STOCK Logo",
            style: "transform-origin: center;" %>
          <span class="text-2xl logo-text uppercase tracking-tight">
            SA AUTO STOCK
          </span>
        </a>
      </div>

      <!-- Navigation -->
      <nav class="hidden lg:flex items-center gap-8">
        <%= link_to "Home", root_path, class: "nav-link" %>
        <%= link_to "About Us", aboutus_path, class: "nav-link" %>
        <%= link_to "Services", services_path, class: "nav-link" %>
        <%= link_to "FAQ", faq_path, class: "nav-link" %>
        <%= link_to "Contact Us", contactus_path, class: "nav-link" %>
      </nav>

      <!-- Book Appointment Button -->
      <div class="hidden lg:flex items-center">
        <%= link_to "Book Appointment", contactus_path, class: "px-6 py-3 bg-primary text-white font-bold text-base rounded-full hover:bg-primary/90 transition-colors shadow-lg" %>
      </div>

      <!-- Mobile Hamburger -->
      <button class="lg:hidden text-heading-light dark:text-heading-dark">
        <span class="material-symbols-outlined text-4xl">menu</span>
      </button>
    </div>
  </div>
</header>

<style>
/* Import professional mechanical/tech font */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

/* Logo Text Styling */
.logo-text {
  font-family: 'Orbitron', sans-serif; /* Techy / mechanic vibe */
  font-weight: 700;
  font-size: 1rem;
  letter-spacing: 0px;
  line-height: 1;
  color: #1f2937;
  transition: color 0.3s ease;
}

/* Text subtle glow on hover */
.logo-text:hover {
  color: #111827;
  text-shadow: 0 0 2px #146116, 0 0 5px #146116; /* faint mechanic glow */
}

/* Spin + glow animation for logo image */
@keyframes spin-glow {
  0% { transform: rotate(0deg); filter: drop-shadow(0 0 0px #146116); }
  50% { transform: rotate(180deg); filter: drop-shadow(0 0 10px #146116); }
  100% { transform: rotate(360deg); filter: drop-shadow(0 0 0px #146116); }
}

.spin-glow-animation {
  animation: spin-glow 1s ease-in-out;
  transform-origin: center;
}

/* Navigation links */
.nav-link {
  font-weight: 600;
  font-size: 1rem;
  color: #374151; /* text-gray-700 */
  position: relative;
  transition: color 0.3s ease;
}

.nav-link:hover,
.nav-link.active {
  color: #146116; /* primary green accent */
}

.nav-link.active::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 100%;
  height: 2px;
  background-color: #146116; /* underline color */
  border-radius: 1px;
}

/* Optional: Mobile hamburger menu styling can go here */
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const logo = document.getElementById("logo");
  const logoLink = document.getElementById("logo-link");

  logo.addEventListener("click", (e) => {
    e.preventDefault(); // Prevent immediate navigation
    logo.classList.add("spin-glow-animation");

    setTimeout(() => {
      logo.classList.remove("spin-glow-animation");
      window.location.href = logoLink.href; // Navigate after animation
    }, 1000);
  });

  // Highlight current page link in navbar
  const currentPath = window.location.pathname;
  document.querySelectorAll('.nav-link').forEach(link => {
    if(link.getAttribute('href') === currentPath){
      link.classList.add('active');
    }
  });
});
</script>
