<% content_for :title, "Book a Service | SA AUTO STOCK ‚Äì Trusted Auto Repair in Delta & Surrey" %>
<% content_for :meta_description, "Schedule your auto repair or maintenance service at SA AUTO STOCK in Delta & Surrey. Book online or contact us via phone or email." %>
<% content_for :meta_keywords, "book auto service, auto repair appointment, car maintenance, Delta mechanic, Surrey auto repair, brake repair, AC recharge" %>
<% content_for :og_image, "https://images.pexels.com/photos/3930091/pexels-photo-3930091.jpeg" %>



<main class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
<div class="grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24">
<div class="space-y-12">
<div>
      <h1 class="mb-2 text-4xl font-heading font-bold sm:text-5xl text-secondary dark:text-white">
Get in Touch</h1>
<p class="text-lg text-subtle-light dark:text-subtle-dark">We're here to help with all your car maintenance and repair needs. Contact us via phone, email, or visit our shop.</p>
</div>
<div class="space-y-8">
<div class="flex items-start space-x-4">
<div class="flex-shrink-0 flex items-center justify-center size-12 rounded-lg bg-primary/10 dark:bg-primary/20 text-primary">
<svg fill="currentColor" height="24px" viewBox="0 0 256 256" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"></path></svg>
</div>
<div>
<h3 class="text-xl font-bold text-gray-900 dark:text-white">Phone</h3>
<p class="text-subtle-light dark:text-subtle-dark">(604) 589-8080</p>
</div>
</div>
<div class="flex items-start space-x-4">
<div class="flex-shrink-0 flex items-center justify-center size-12 rounded-lg bg-primary/10 dark:bg-primary/20 text-primary">
<svg fill="currentColor" height="24px" viewBox="0 0 256 256" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"></path></svg>
</div>
<div>
<h3 class="text-xl font-bold text-gray-900 dark:text-white">Email</h3>
<p class="text-subtle-light dark:text-subtle-dark">info@saautostock.ca</p>
</div>
</div>
<div class="flex items-start space-x-4">
<div class="flex-shrink-0 flex items-center justify-center size-12 rounded-lg bg-primary/10 dark:bg-primary/20 text-primary">
<svg fill="currentColor" height="24px" viewBox="0 0 256 256" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"></path></svg>
</div>
<div>
<h3 class="text-xl font-bold text-gray-900 dark:text-white">Address</h3>
<p class="text-subtle-light dark:text-subtle-dark">11943 94 Ave, Delta, BC V4C 3R8
</p>
</div>
</div>
</div>
<div class="w-full aspect-video rounded-xl overflow-hidden shadow-lg">
<div class="w-full h-[400px]">
  <iframe
    width="100%"
    height="100%"
    style="border:0;"
    loading="lazy"
    allowfullscreen
    referrerpolicy="no-referrer-when-downgrade"
    src="https://www.google.com/maps?q=11943+94+Ave,Delta,BC+V4C+3R8&output=embed">
  </iframe>
</div>

</div>
</div>
<div class="bg-surface-light dark:bg-surface-dark p-8 md:p-10 rounded-xl shadow-2xl" id="booking-form">
<h2 class="text-3xl font-bold text-gray-900 tracking-tight mb-2">Book Your Service</h2>
<p class="text-subtle-light dark:text-subtle-dark mb-8">Fill out the form below to schedule your appointment.</p>
<form class="space-y-8" id="bookingForm">

  <!-- Customer Info -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
    <div>
      <label class="block text-sm font-medium mb-2" for="customer-name">Full Name</label>
      <input
        class="w-full h-12 px-4 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary placeholder-subtle-light dark:placeholder-subtle-dark transition-shadow"
        id="customer-name"
        name="customer-name"
        type="text"
        placeholder="Enter your full name"
        required
      />
    </div>

    <div>
      <label class="block text-sm font-medium mb-2" for="customer-email">Email Address</label>
      <input
        class="w-full h-12 px-4 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary placeholder-subtle-light dark:placeholder-subtle-dark transition-shadow"
        id="customer-email"
        name="customer-email"
        type="email"
        placeholder="you@example.com"
        required
      />
    </div>
  </div>

  <!-- Booking Info -->
<!-- Booking Info -->
<div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
  <div>
    <label class="block text-sm font-medium mb-2" for="service-type">Service Type</label>
    <select
      class="form-select w-full h-12 px-4 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-[#0f6119]/50 focus:border-[#0f6119] transition-shadow"
      id="service-type"
      name="service-type"
      required
    >
      <option value="">Select service</option>
      <option>Brake Inspection / Repair</option>
      <option>Battery Test or Replacement</option>
      <option>Engine Diagnostics</option>
      <option>Tire Rotation / Replacement</option>
      <option>Wheel Alignment</option>
      <option>Suspension &amp; Steering Check</option>
      <option>Safety Inspection / Vehicle Inspection</option>
      <option>Transmission Service</option>
      <option>Air Conditioning / Heating Repair</option>
      <option>Serpentine Belt Replacement</option>
      <option>Coolant Flush / Radiator Service</option>
      <option>Exhaust / Muffler Repair</option>
      <option>Electrical System Check</option>
      <option>Scheduled Maintenance (Factory Recommended)</option>
      <option value="other">Other (Please Specify in Comments)</option>
    </select>

    <!-- Hidden comment field (appears when 'Other' is selected) -->
    <div id="other-comment" class="hidden mt-4">
      <label for="comment" class="block text-sm font-medium mb-2">Please specify your service</label>
      <textarea
        id="comment"
        name="comment"
        rows="3"
        class="w-full p-3 border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-[#0f6119]/50 focus:border-[#0f6119] transition-shadow"
        placeholder="Describe your service request..."
      ></textarea>
    </div>
  </div>


<script>
  document.getElementById('service-type').addEventListener('change', function () {
    const commentField = document.getElementById('other-comment');
    if (this.value === 'other') {
      commentField.classList.remove('hidden');
    } else {
      commentField.classList.add('hidden');
    }
  });
</script>


    <div>
      <label class="block text-sm font-medium mb-2" for="preferred-date">Preferred Date</label>
      <input
        class="w-full h-12 px-4 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary transition-shadow"
        id="preferred-date"
        name="preferred-date"
        type="date"
        required
      />
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
    <div>
      <label class="block text-sm font-medium mb-2" for="preferred-time">Preferred Time</label>
      <select
        class="form-select w-full h-12 px-4 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary transition-shadow"
        id="preferred-time"
        name="preferred-time"
        required
      >
        <option>Morning (8 AM ‚Äì 12 PM)</option>
        <option>Afternoon (12 PM ‚Äì 3 PM)</option>
        <option>Evening (After 3 PM)</option>
      </select>
    </div>
  </div>

  <!-- Vehicle Info -->
  <div class="border-t border-border-light dark:border-border-dark pt-6 space-y-6">
<h3 class="text-xl font-bold text-gray-900 dark:text-white">Vehicle Information</h3>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium mb-2" for="vehicle-make">Make</label>
        <input
          class="w-full h-12 px-4 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary placeholder-subtle-light dark:placeholder-subtle-dark transition-shadow"
          id="vehicle-make"
          name="vehicle-make"
          placeholder="e.g., Toyota"
          type="text"
        />
      </div>

      <div>
        <label class="block text-sm font-medium mb-2" for="vehicle-model">Model</label>
        <input
          class="w-full h-12 px-4 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary placeholder-subtle-light dark:placeholder-subtle-dark transition-shadow"
          id="vehicle-model"
          name="vehicle-model"
          placeholder="e.g., Camry"
          type="text"
        />
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium mb-2" for="vehicle-year">Year</label>
      <input
        class="w-full h-12 px-4 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary placeholder-subtle-light dark:placeholder-subtle-dark transition-shadow"
        id="vehicle-year"
        name="vehicle-year"
        type="number"
        placeholder="e.g., 2022"
        min="1950"
        max="2025"
      />
    </div>
  </div>

  <!-- Submit Button -->
  <div class="pt-6">
    <button
      class="w-full flex items-center justify-center px-6 py-3 text-base font-bold text-white bg-primary rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary/50 dark:focus:ring-offset-surface-dark transition-colors"
      type="submit"
    >
      Submit Booking
    </button>
  </div>
</form>

</div>
</div>
</main>
</div>

</body>
</div>
</div>
</div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const bookingForm = document.getElementById("bookingForm");
  const serviceType = document.getElementById("service-type");
  const otherCommentField = document.getElementById("other-comment");
  const commentTextarea = document.getElementById("comment");

  // Show/hide comment field when "Other" is selected
  serviceType.addEventListener("change", function () {
    if (this.value === "other") {
      otherCommentField.classList.remove("hidden");
    } else {
      otherCommentField.classList.add("hidden");
      commentTextarea.value = "";
    }
  });

  // Handle form submission
  bookingForm.addEventListener("submit", function (e) {
    e.preventDefault();

    // Collect form data
    const name = document.getElementById("customer-name").value.trim();
    const email = document.getElementById("customer-email").value.trim();
    const service = document.getElementById("service-type").value;
    const date = document.getElementById("preferred-date").value;
    const time = document.getElementById("preferred-time").value;
    const make = document.getElementById("vehicle-make").value.trim();
    const model = document.getElementById("vehicle-model").value.trim();
    const year = document.getElementById("vehicle-year").value.trim();
    const comment = commentTextarea.value.trim();

    // Basic validation
    if (!name || !email || !service || !date || !time) {
      alert("‚ö†Ô∏è Please fill in all required fields before submitting.");
      return;
    }

    // Build service description
    const serviceDescription =
      service === "other" && comment
        ? `Other (User Specified): ${comment}`
        : service;

    // Build email content
    const subject = encodeURIComponent(`New Booking Request from ${name}`);
    const body = encodeURIComponent(
`Hello SA AUTO STOCK Team,

Here are the booking details:

üë§ Full Name: ${name}
üìß Email: ${email}

üõ† Service Type: ${serviceDescription}
üìÖ Preferred Date: ${date}
‚è∞ Preferred Time: ${time}

üöó Vehicle Details:
Make: ${make || "N/A"}
Model: ${model || "N/A"}
Year: ${year || "N/A"}

Please confirm my appointment.

Thank you,
${name}`
    );

    // Open email client
    const mailtoLink = `mailto:info@saautostock.ca?subject=${subject}&body=${body}`;
    window.location.href = mailtoLink;

    // Optional: reset the form after sending
    bookingForm.reset();
    otherCommentField.classList.add("hidden");
  });
});
</script>
